<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    //单例模式的定义是：保证一个类仅有一个实例，并提供一个访问它的全局访问点。
    // class Single {
    //     constructor(name) {
    //         this.name = name;
    //     }
    //     showname() {
    //         return this.name;
    //     }
    // }

    // let s1 = new Single('zhangsan');
    // let s2 = new Single('zhangsan');

    // console.log(s1 == s2); //false


    //实现的方法一般是先判断实例存在与否，如果存在直接返回，如果不存在就创建了再返回，这就确保了一个类只有一个实例对象。
    class Single {
        constructor(name) {
            this.name = name;
            this.flag = null;
        }
        showname() {
            return this.name;
        }
    }

    Single.check = function(name) {
        if (!this.flag) { //不存在就创建了再返回
            this.flag = new Single(name);
        }
        return this.flag; //存在直接返回
    }
    let s1 = Single.check('zhangsan');
    let s2 = Single.check('lisi');
    console.log(s1 == s2); //true
</script>

</html>