<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title></title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            font-family: 'microsoft yahei';
        }
        
        html,
        body {
            width: 100%;
        }
        
        #loutinav {
            width: 35px;
            position: fixed;
            top: 100px;
            left: 50px;
            border: 1px solid #ddd;
            display: none;
        }
        
        #loutinav ul li {
            width: 35px;
            height: 32px;
            border-bottom: 1px dotted #DDDDDD;
            list-style: none;
            font-size: 12px;
            text-align: center;
            position: relative;
            cursor: pointer;
            padding: 10px 0;
            background: #918888;
            color: #fff;
        }
        
        #loutinav ul li span {
            width: 35px;
            height: 32px;
            padding: 10px 0;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        #loutinav ul li.last {
            background: #5e4a4a;
            color: #fff;
            border-bottom: 1px solid #ddd;
        }
        
        #loutinav ul li.active span {
            background: #c00;
            color: #fff;
            display: block;
        }
        
        #loutinav ul li:hover span {
            background: #c00;
            color: #fff;
            display: block;
        }
        
        #header {
            width: 1000px;
            height: 1000px;
            background: #cc6633;
            margin: 0 auto;
            font-size: 50px;
            line-height: 1000px;
            text-align: center;
            color: #000;
        }
        
        #main {
            width: 1000px;
            background: #66ff66;
            margin: 0 auto;
        }
        
        #main .louceng {
            height: 600px;
            width: 1000px;
            font-size: 50px;
            color: #fff;
            font-weight: bold;
        }
        
        #footer {
            width: 1000px;
            height: 400px;
            background: red;
            margin: 0 auto;
            font-size: 50px;
            line-height: 400px;
            text-align: center;
            color: #000;
        }
    </style>
</head>

<body>
    <!--左侧楼梯-->
    <div id="loutinav">
        <ul>
            <li class="active"><span>享品质</span> </li>
            <li><span>服饰美妆</span> </li>
            <li><span>电脑数码</span> </li>
            <li><span>3C运动</span> </li>
            <li><span>爱吃</span> </li>
            <li><span>母婴居家</span> </li>
            <li><span>图书汽车</span> </li>
            <li><span>虚拟</span> </li>
            <li><span>还没逛够</span> </li>
            <li class="last">顶部</li>
        </ul>
    </div>

    <div id="header">
        网站头部(height:1000px)
    </div>
    <!--楼层内容开始-->
    <div id="main">
        <div class="louceng" style="background: #cc0033;">享品质</div>
        <div class="louceng" style="background: #999933;">服饰美妆</div>
        <div class="louceng" style="background: #ccff33;">电脑数码</div>
        <div class="louceng" style="background: #006633;">3C运动</div>
        <div class="louceng" style="background: #6666cc;">爱吃</div>
        <div class="louceng" style="background: #ff6600;">母婴居家</div>
        <div class="louceng" style="background: #ffff00;">图书汽车</div>
        <div class="louceng" style="background: #3333ff;">虚拟</div>
        <div class="louceng" style="background: #ff00cc;">还没逛够</div>
    </div>
    <div id="footer">
        网站底部
    </div>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        //方法介绍
        //1.offset([coordinates]) 获取匹配元素在当前视口的相对偏移(返回一个对象，对象里面包含两个值 - left/top)
        //2.each(callback)以每一个匹配的元素作为上下文来执行一个函数。返回 'false' 将停止循环 (就像在普通的循环中使用 'break')
        // $('li').each(function(index,element){//index:元素对象的索引  element:当前的元素(是原生的)

        // })
    </script>
    <script>
        //效果思路
        //1.滚轮事件控制左侧楼梯的显示和隐藏
        //2.点击左侧楼梯上面的按钮，右侧楼层运动到对应的位置。
        //3.拖到滚轮，楼层和楼梯对应(楼层对应的楼梯添加样式)。
        //4.回到顶部。

        ! function($) {
            //1.滚轮事件控制左侧楼梯的显示和隐藏
            //直接刷新，满足情况
            function scroll() {
                let top = $(window).scrollTop(); //滚动条的top值。
                top >= 500 ? $('#loutinav').show() : $('#loutinav').hide();
                $('.louceng').each(function(index, element) {
                    let loucengtop = $(this).offset().top; //每一个楼层的top值
                    if (loucengtop >= top) {
                        $('#loutinav li').removeClass('active');
                        $('#loutinav li').eq($(this).index()).addClass('active');
                        return false; //返回 'false' 将停止循环，有一个满足条件终止循环。
                    }
                });
            }
            scroll();
            //滚轮事件触发
            $(window).on('scroll', function() {
                scroll();
            });

            //2.点击左侧楼梯上面的按钮，右侧楼层运动到对应的位置。
            //求每一个楼层top位置。将固定的top值给滚动条的top值。document.documentElement.scrollTop

            $('#loutinav li').not('.last').on('click', function() {
                $(this).addClass('active').siblings().removeClass('active');
                let loucengtop = $('.louceng').eq($(this).index()).offset().top; //获取楼梯对应楼层固定的top值。
                $('html').animate({
                    scrollTop: loucengtop //运动不仅可以改变css，还可以设置html属性
                });
            });

            // 4.回到顶部。
            $('.last').on('click', function() {
                $('html').animate({
                    scrollTop: 0 //运动不仅可以改变css，还可以设置html属性
                });
            });
        }(jQuery);
    </script>
</body>

</html>